<div class="flex flex-col h-full rounded-lg border border-primary-200 hover:border-primary-600 bg-white p-6 shadow-lg relative overflow-hidden">
  <% if product.out_of_stock? %>
    <div class="absolute top-6 -right-8 z-10">
      <div class="bg-red-600 text-white text-xs font-bold px-12 py-2 transform rotate-45 shadow-lg flex items-center justify-center leading-none">
        <%= t('products.form_quantity.out_of_stock').upcase %>
      </div>
    </div>
  <% end %>
  <div class="h-56 w-full">
    <%= link_to product_path(product), class: 'hover:underline active:underline', data: { turbo_frame: :drawer } do %>
      <%= image_tag(cover_image(product.cover, variant: :medium), class: 'mx-auto h-full object-contain block', alt: product.title) %>
    <% end %>
  </div>

  <div class="pt-6 flex flex-col grow gap-4">
    <div class="grid grow justify-between">
      <%= link_to product_path(product), class: 'hover:underline active:underline', data: { turbo_frame: :drawer } do %>
        <p class="text-lg font-semibold leading-tight text-black"><%= product.title %>
          <span class="text-sm text-primary-600">(<%= product.subtitle %>)</span>
        </p>
      <% end %>
    </div>

    <div class="mt-auto space-y-4">
      <p class="text-2xl font-extrabold leading-tight text-magenta-500">
        <%= number_to_currency(product.price) %>
      </p>

      <%= render 'form_quantity', product: %>
    </div>
  </div>
</div>
